<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Flash Recall</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preload" href="imgs/back_button.png" as="image" />
    <link rel="preload" href="imgs/chain_1.png" as="image" />
    <link rel="preload" href="imgs/chain_2.png" as="image" />
    <link rel="preload" href="imgs/chain_3.png" as="image" />
    <link rel="preload" href="imgs/chain_4.png" as="image" />
    <link rel="preload" href="imgs/chain_5.png" as="image" />
    <link rel="preload" href="imgs/flash_icon.png" as="image" />
    <link rel="preload" href="imgs/fullscreen_button.png" as="image" />
    <link rel="preload" href="imgs/apple.png" as="image" />
    <link rel="preload" href="imgs/banana.png" as="image" />
    <link rel="preload" href="imgs/grape.png" as="image" />
    <link rel="preload" href="imgs/strawberry.png" as="image" />
    <link rel="preload" href="imgs/watermelon.png" as="image" />
    <link rel="preload" href="imgs/home_button.png" as="image" />
    <link rel="preload" href="imgs/lock.png" as="image" />
    <link rel="preload" href="imgs/menu_button.png" as="image" />
    <link rel="preload" href="imgs/next_button.png" as="image" />
    <link rel="preload" href="imgs/play_button.png" as="image" />
    <link rel="preload" href="imgs/reference_button.png" as="image" />
    <link rel="preload" href="imgs/arrow.png" as="image" />
    <link rel="preload" href="imgs/apple.png" as="image" />
    <link rel="preload" href="imgs/banana.png" as="image" />
    <link rel="preload" href="imgs/grape.png" as="image" />
    <link rel="preload" href="imgs/strawberry.png" as="image" />
    <link rel="preload" href="imgs/watermelon.png" as="image" />
    <link rel="preload" href="imgs/icons/card-numbers.svg" as="image" />
    <link rel="preload" href="imgs/icons/card-letters.svg" as="image" />
    <link rel="preload" href="imgs/icons/card-colors.svg" as="image" />
    <link rel="preload" href="imgs/icons/card-directions.svg" as="image" />
    <link rel="preload" href="imgs/icons/card-diagonal.svg" as="image" />
    <link rel="preload" href="imgs/icons/card-shapes.svg" as="image" />
    <link rel="preload" href="imgs/retry_button.png" as="image" />
    <link rel="preload" href="imgs/settings_button.png" as="image" />
    <link rel="preload" href="imgs/stat_button.png" as="image" />
    <link rel="preload" href="imgs/tutorial_icon.png" as="image" />
    <link rel="preload" href="imgs/x_button.png" as="image" />
    <link rel="preload" href="imgs/arrow.png" as="image" />
    <link rel="preload" href="imgs/icons/card-colors.svg" as="image" />
    <link rel="preload" href="imgs/icons/card-directions.svg" as="image" />
    <link rel="preload" href="imgs/icons/card-diagonal.svg" as="image" />
    <link rel="preload" href="imgs/icons/card-letters.svg" as="image" />
    <link rel="preload" href="imgs/icons/card-numbers.svg" as="image" />
    <link rel="preload" href="imgs/icons/card-shapes.svg" as="image" />
    <link rel="preload" href="imgs/apple.png" as="image" />
    <link rel="preload" href="imgs/icons/mod-ads.svg" as="image" />
    <link rel="preload" href="imgs/icons/mod-backgroundcolor.svg" as="image" />
    <link rel="preload" href="imgs/icons/mod-fog.svg" as="image" />
    <link rel="preload" href="imgs/icons/mod-blur.svg" as="image" />
    <link rel="preload" href="imgs/icons/mod-glitch.svg" as="image" />
    <link rel="preload" href="imgs/icons/mod-mathops.svg" as="image" />
    <link rel="preload" href="imgs/icons/mod-misleadcolors.svg" as="image" />
    <link rel="preload" href="imgs/icons/mod-textcolor.svg" as="image" />
    <link rel="preload" href="imgs/icons/mod-previouscard.svg" as="image" />
    <link rel="preload" href="imgs/icons/mod-platformer.svg" as="image" />
    <link rel="preload" href="imgs/icons/mod-swapcards.svg" as="image" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet" />
  </head>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
  <body data-state="idle" data-mode="practice" data-view="home">
    <main>
      <header>
        <div class="title-wrap">
          <div class="title-cards" aria-hidden="true">
            <span class="title-card card-a"></span>
            <span class="title-card card-b"></span>
            <span class="title-card card-c"></span>
          </div>
          <h1 class="title">Flash Recall</h1>
        </div>
      </header>
      <section class="layout">
        <aside class="panel">
          <div class="controls">
            <div class="mode-grid">
              <button id="playStart" class="mode-card primary" type="button">
                <strong>Play</strong>
              </button>
              <button id="practiceStart" class="mode-card mode-card--locked" type="button" disabled>
                <strong>Sandbox</strong>
                <span class="mode-card__lock" aria-hidden="true"></span>
              </button>
            </div>
            <div class="quick-actions">
              <button id="settingsOpen" class="quick-action icon-button" type="button" aria-label="Open settings">
                <img class="action-icon" src="imgs/settings_button.png" alt="" />
              </button>
              <button id="statsOpen" class="quick-action icon-button" type="button" aria-label="Open stats">
                <img class="action-icon" src="imgs/stat_button.png" alt="" />
              </button>
              <button id="referenceOpen" class="quick-action icon-button" type="button" aria-label="Open reference">
                <img class="action-icon" src="imgs/reference_button.png" alt="" />
              </button>
              <button id="fullscreenToggle" class="quick-action icon-button" type="button" aria-label="Toggle fullscreen">
                <img class="action-icon" src="imgs/fullscreen_button.png" alt="" />
              </button>
            </div>
          </div>
        </aside>
        <section class="stage panel">
          <div class="timer-bar" id="timerBar">
            <div class="timer-bar__fill" id="timerFill"></div>
          </div>
          <div class="stage-instructions" id="stageInstructions" aria-hidden="true"></div>
          <div class="cards" id="cardGrid"></div>
          <div class="prompts" id="promptGrid"></div>
          <div class="inputs" id="inputGrid"></div>
          <div class="platformer panel" id="platformerPanel">
            <div class="platformer-header">Platformer</div>
            <canvas id="platformerCanvas" width="900" height="160"></canvas>
          </div>
          <div class="actions"></div>
          <div class="results" id="resultsPanel"></div>
        </section>
      </section>
      <section class="stages-screen" id="stagesScreen" aria-hidden="true">
        <div class="stages-hero">
          <button id="stagesBack" class="quick-action icon-button" type="button" aria-label="Home">
            <img class="action-icon" src="imgs/home_button.png" alt="" />
          </button>
          <div class="stages-summary">
            <div class="stages-progress" id="stagesProgress" aria-live="polite"></div>
            <div class="stages-total" id="stagesTotal" aria-live="polite"></div>
          </div>
        </div>
        <div class="stage-board">
          <div class="stage-list stage-grid" id="stageList"></div>
        </div>
        <button id="stagesPrev" class="stages-page-prev" type="button" aria-label="Previous page"></button>
        <button id="stagesNext" class="stages-page-next" type="button" aria-label="Next page"></button>
        <div class="stages-footer">
          <div id="stagesFooter"></div>
        </div>
      </section>
    </main>
    <div class="modal" id="practiceModal" aria-hidden="true">
      <div class="modal-card modal-card--sandbox">
        <div class="sandbox-header">
          <h3>Sandbox Settings</h3>
          <div class="sandbox-stars" id="sandboxStars">
            <span class="stage-star is-filled">âœ¦</span>
            <span class="sandbox-stars__count">
              <span class="sandbox-stars__available">0</span>/<span class="sandbox-stars__total">0</span>
            </span>
          </div>
        </div>
        <div class="controls">
          <div class="control-row settings-row">
            <div class="stat-field">
              <label for="revealTime">Reveal (s)</label>
              <input id="revealTime" type="number" min="2" max="20" step="1" value="20" />
            </div>
            <div class="stat-field">
              <label for="recallTime">Recall (s)</label>
              <input id="recallTime" type="number" min="5" max="30" step="1" value="20" />
            </div>
            <div class="stat-field">
              <label for="cardCount">Cards</label>
              <input id="cardCount" type="number" min="1" max="10" step="1" value="4" />
            </div>
          </div>
          <div class="control-group">
            <div class="control-row">
              <label>Card types</label>
              <div class="control-actions">
                <button id="practiceSelectAll" class="link-button" type="button">Select all</button>
                <button id="practiceDeselectAll" class="link-button" type="button">Deselect all</button>
              </div>
            </div>
            <div class="practice-error practice-error--floating" id="practiceTypeError" aria-live="polite" hidden>
              Select at least one card type to start Sandbox.
            </div>
            <div class="checkboxes icon-choices">
              <label class="icon-choice">
                <input type="checkbox" value="numbers" />
                <span class="icon-tile">
                  <img src="imgs/icons/card-numbers.svg" alt="" />
                  <span>Numbers</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input type="checkbox" value="colors" />
                <span class="icon-tile">
                  <img src="imgs/icons/card-colors.svg" alt="" />
                  <span>Colors</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input type="checkbox" value="letters" />
                <span class="icon-tile">
                  <img src="imgs/icons/card-letters.svg" alt="" />
                  <span>Letters</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input type="checkbox" value="directions" />
                <span class="icon-tile">
                  <img src="imgs/icons/card-directions.svg" alt="" />
                  <span>Directions</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input type="checkbox" value="diagonal" />
                <span class="icon-tile">
                  <img src="imgs/icons/card-diagonal.svg" alt="" />
                  <span>Diagonal</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input type="checkbox" value="shapes" />
                <span class="icon-tile">
                  <img src="imgs/icons/card-shapes.svg" alt="" />
                  <span>Shapes</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input type="checkbox" value="fruits" />
                <span class="icon-tile">
                  <img src="imgs/apple.png" alt="" />
                  <span>Fruits</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
            </div>
          </div>
          <div class="control-group">
            <label>Modifiers</label>
            <div class="checkboxes icon-choices">
              <label class="icon-choice">
                <input id="practiceMathOps" type="checkbox" />
                <span class="icon-tile">
                  <img src="imgs/icons/mod-mathops.svg" alt="" />
                  <span>Math ops</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input id="practiceMisleadColors" type="checkbox" />
                <span class="icon-tile">
                  <img src="imgs/icons/mod-misleadcolors.svg" alt="" />
                  <span>Mislead</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input id="practiceBackgroundColor" type="checkbox" />
                <span class="icon-tile">
                  <img src="imgs/icons/mod-backgroundcolor.svg" alt="" />
                  <span>Background</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input id="practiceTextColor" type="checkbox" />
                <span class="icon-tile">
                  <img src="imgs/icons/mod-textcolor.svg" alt="" />
                  <span>Text color</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input id="practicePreviousCard" type="checkbox" />
                <span class="icon-tile">
                  <img src="imgs/icons/mod-previouscard.svg" alt="" />
                  <span>Previous</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input id="practiceSwap" type="checkbox" />
                <span class="icon-tile">
                  <img src="imgs/icons/mod-swapcards.svg" alt="" />
                  <span>Swap</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input id="practicePlatformer" type="checkbox" />
                <span class="icon-tile">
                  <img src="imgs/icons/mod-platformer.svg" alt="" />
                  <span>Platformer</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input id="practiceGlitch" type="checkbox" />
                <span class="icon-tile">
                  <svg class="glitch-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" aria-hidden="true">
                    <rect class="glitch-card-fill" x="6" y="6" width="52" height="52" rx="8" fill="#ffffff" stroke="#111111" stroke-width="3"/>
                    <text x="32" y="42" text-anchor="middle" font-family="'Arial Black', sans-serif" font-size="28" fill="#111">7</text>
                  </svg>
                  <span>Glitch</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input id="practiceRotate" type="checkbox" />
                <span class="icon-tile">
                  <img src="imgs/icons/mod-rotate.svg" alt="" />
                  <span>Rotate</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input id="practiceRotatePlus" type="checkbox" />
                <span class="icon-tile">
                  <img src="imgs/icons/mod-rotateplus.svg" alt="" />
                  <span>Rotate+</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input id="practiceFog" type="checkbox" />
                <span class="icon-tile">
                  <img src="imgs/icons/mod-fog.svg" alt="" />
                  <span>Fog</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input id="practiceBlur" type="checkbox" />
                <span class="icon-tile">
                  <img src="imgs/icons/mod-blur.svg" alt="" />
                  <span>Blur</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
              <label class="icon-choice">
                <input id="practiceAds" type="checkbox" />
                <span class="icon-tile">
                  <img src="imgs/icons/mod-ads.svg" alt="" />
                  <span>Ads</span>
                  <img class="lock-icon" src="imgs/lock.png" alt="" aria-hidden="true" />
                </span>
              </label>
            </div>
          </div>
        </div>
        <div class="modal-actions">
          <button id="practiceCancel" class="secondary icon-button practice-close" type="button" aria-label="Back">
            <img class="action-icon" src="imgs/x_button.png" alt="" />
          </button>
          <button id="practiceConfirm" class="icon-button practice-start" type="button" aria-label="Start Sandbox">
            <img class="action-icon" src="imgs/play_button.png" alt="" />
          </button>
        </div>
      </div>
    </div>
    <div data-include="ui/settings.html"></div>
    <div data-include="ui/stats.html"></div>
    <div data-include="ui/stage-intro.html"></div>
    <div data-include="ui/reference.html"></div>
    <div class="modal" id="flashStageModal" aria-hidden="true">
      <div class="modal-card modal-card--muted modal-card--flash">
        <h3>Flash Level</h3>
        <p class="modal-note">Reveal time is extremely short. Get ready.</p>
        <label class="checkbox-inline flash-optout">
          <input id="flashStageSkip" type="checkbox" />
          Don't show again
        </label>
        <div class="modal-actions">
          <button id="flashStageStart" class="secondary icon-button" type="button" aria-label="Start (Enter)">
            <img class="action-icon" src="imgs/play_button.png" alt="" />
            <span class="action-key-hint" aria-hidden="true">(Enter)</span>
          </button>
        </div>
      </div>
    </div>
    <div class="flash-countdown" id="flashCountdown" aria-hidden="true">
      <div class="flash-countdown__num">3</div>
    </div>
    <div class="interrupt-modal" id="interruptModal" aria-hidden="true" hidden>
      <div class="interrupt-card">
        <div class="interrupt-header">
          <button class="interrupt-close" id="interruptClose" type="button">X</button>
        </div>
        <div class="interrupt-body">Pop-up block</div>
      </div>
    </div>
    <div class="hud-cluster" id="hudCluster">
      <div class="pill hud-timer" id="stageTimerHud">Time 0.00</div>
      <div class="pill hud-round" id="roundPill">Round 0</div>
    </div>
    <div class="pill hud-streak" id="streakPill">STREAK 0</div>
    <canvas class="fog-overlay" id="fogCanvas"></canvas>
    <div class="fog-blur" id="fogBlur" aria-hidden="true"></div>
    <div class="success-toast" id="successToast" aria-hidden="true">All correct!</div>
    <div class="config-hidden" hidden>
      <select id="modeSelect">
        <option value="practice" selected>Practice</option>
        <option value="stages">Stages</option>
      </select>
    </div>
    <script src="version.js?v=20260217"></script>
    <script src="firebase-analytics.js?v=2"></script>
    <script>
      window.unlockAllStages = false;
      window.unlockSandbox = false;
      window.unlockAllModifiers = false;
    </script>
    <script src="ui-loader.js?v=1"></script>
  </body>
</html>
