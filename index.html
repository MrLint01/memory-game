<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Flash Recall</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main>
      <header>
        <h1>Flash Recall</h1>
      </header>
      <section class="layout">
        <aside class="panel">
          <h2>Choose Mode</h2>
          <div class="controls">
            <div class="mode-grid">
              <button id="practiceStart" class="mode-card" type="button">
                <strong>Practice</strong>
                <span>Free play with your current ruleset.</span>
              </button>
              <button id="adventureStart" class="mode-card" type="button">
                <strong>Adventure</strong>
                <span>Draft modifiers, gain points, manage lives.</span>
              </button>
              <button id="referenceOpen" class="mode-card" type="button">
                <strong>Reference</strong>
                <span>Card types, modifiers, and answers.</span>
              </button>
            </div>
          </div>
        </aside>
        <section class="stage panel">
          <div class="status">
          <div class="pill" id="modePill">Mode: Practice</div>
          <div class="pill" id="phasePill">Waiting to start</div>
          <div class="pill" id="timerPill">00</div>
          <div class="pill" id="roundPill">Round 0</div>
          <div class="pill" id="scorePill">Streak 0</div>
          <div class="pill" id="livesPill">Lives 3</div>
        </div>
          <div class="timer-bar" id="timerBar">
            <div class="timer-bar__fill" id="timerFill"></div>
          </div>
          <div class="cards" id="cardGrid"></div>
          <div class="inputs" id="inputGrid"></div>
          <div class="platformer panel" id="platformerPanel">
            <div class="platformer-header">Platformer</div>
            <canvas id="platformerCanvas" width="900" height="160"></canvas>
          </div>
          <div class="actions"></div>
          <div class="results" id="resultsPanel"></div>
          <div class="draft" id="draftPanel">
            <h3>Choose a modifier</h3>
            <div class="draft-grid" id="draftGrid"></div>
          </div>
        </section>
      </section>
    </main>
    <div class="modal" id="practiceModal" aria-hidden="true">
      <div class="modal-card">
        <h3>Practice Settings</h3>
        <div class="controls">
          <div class="control-group">
            <label for="revealTime">Reveal time (seconds)</label>
            <input id="revealTime" type="number" min="2" max="20" step="1" value="10" />
          </div>
          <div class="control-group">
            <label for="recallTime">Recall time (seconds)</label>
            <input id="recallTime" type="number" min="5" max="30" step="1" value="15" />
          </div>
          <div class="control-group">
            <label for="cardCount">Number of cards (1-10)</label>
            <input id="cardCount" type="number" min="1" max="10" step="1" value="4" />
          </div>
          <div class="control-group">
            <label>Card types</label>
            <div class="checkboxes">
              <label><input type="checkbox" value="numbers" checked />Numbers</label>
              <label><input type="checkbox" value="colors" checked />Colors</label>
              <label><input type="checkbox" value="letters" checked />Letters</label>
              <label><input type="checkbox" value="directions" checked />Directions</label>
              <label><input type="checkbox" value="shapes" checked />Shapes</label>
            </div>
          </div>
          <div class="control-group">
            <label>Modifiers</label>
            <div class="checkboxes">
              <label><input id="practiceMathOps" type="checkbox" checked />Math ops</label>
              <label><input id="practiceMisleadColors" type="checkbox" checked />Misleading colors</label>
              <label><input id="practiceBackgroundColor" type="checkbox" checked />Background color</label>
              <label><input id="practiceSwap" type="checkbox" checked />Card swap</label>
              <label><input id="practicePlatformer" type="checkbox" checked />Platformer recall</label>
              <label><input id="practiceGlitch" type="checkbox" checked />Glitching reveal</label>
              <label><input id="practiceFog" type="checkbox" checked />Fog reveal</label>
              <label><input id="practiceAds" type="checkbox" checked />Pop-up ads</label>
            </div>
          </div>
        </div>
        <div class="modal-actions">
          <button id="practiceCancel" class="secondary" type="button">Back</button>
          <button id="practiceConfirm" type="button">Start Practice</button>
        </div>
      </div>
    </div>
    <div class="modal modal--pause" id="pauseModal" aria-hidden="true">
      <div class="modal-card">
        <h3>Paused</h3>
        <div class="modal-actions">
          <button id="pauseResume" type="button">Resume</button>
          <button id="pauseRestart" type="button">Restart</button>
          <button id="pauseQuit" type="button">Quit</button>
        </div>
      </div>
    </div>
    <div class="modal" id="referenceModal" aria-hidden="true">
      <div class="modal-card reference-card">
        <div class="reference-header">
          <h3>Reference Sheet</h3>
          <div class="reference-note">Inputs are case-insensitive.</div>
        </div>
        <div class="reference-grid">
          <div class="reference-block">
            <h4>Card Types</h4>
            <div class="reference-row has-recall">
              <span class="ref-label">Number</span>
              <span class="ref-example">7</span>
              <span class="ref-recall">Number</span>
              <span class="ref-answer">Ans: 7</span>
            </div>
            <div class="reference-row has-recall">
              <span class="ref-label">Letter</span>
              <span class="ref-example">B</span>
              <span class="ref-recall">Letter</span>
              <span class="ref-answer">Ans: B</span>
            </div>
            <div class="reference-row has-recall">
              <span class="ref-label">Direction</span>
              <span class="ref-example ref-arrow">â†‘</span>
              <span class="ref-recall">Direction</span>
              <span class="ref-answer">Ans: Up / U</span>
            </div>
            <div class="reference-row has-recall">
              <span class="ref-label">Shape</span>
              <span class="ref-example">
                <svg class="shape-svg shape-svg--mini" viewBox="0 0 100 100" aria-hidden="true">
                  <circle class="shape-stroke" cx="50" cy="50" r="28"></circle>
                </svg>
              </span>
              <span class="ref-recall">Shape</span>
              <span class="ref-answer">Ans: Circle / C</span>
            </div>
            <div class="reference-row has-recall">
              <span class="ref-label">Shape</span>
              <span class="ref-example">
                <svg class="shape-svg shape-svg--mini" viewBox="0 0 100 100" aria-hidden="true">
                  <rect class="shape-stroke" x="26" y="26" width="48" height="48"></rect>
                </svg>
              </span>
              <span class="ref-recall">Shape</span>
              <span class="ref-answer">Ans: Square / S / Rectangle / R</span>
            </div>
          </div>
          <div class="reference-block">
            <h4>Color Cards</h4>
            <div class="reference-row has-recall">
              <span class="ref-label">Background Color</span>
              <span class="ref-example ref-swatch" style="background:#f97316;">BLUE</span>
              <span class="ref-recall">Background color</span>
              <span class="ref-answer">Ans: Orange / O</span>
            </div>
            <div class="reference-row has-recall">
              <span class="ref-label">Text Color</span>
              <span class="ref-example ref-swatch" style="background:#3b82f6;">BLUE</span>
              <span class="ref-recall">Color text</span>
              <span class="ref-answer">Ans: Blue / B</span>
            </div>
            <div class="reference-row has-recall">
              <span class="ref-label">Misleading</span>
              <span class="ref-example ref-swatch" style="background:#22c55e;">PINK</span>
              <span class="ref-recall">Color text</span>
              <span class="ref-answer">Ans: Pink / P</span>
            </div>
          </div>
          <div class="reference-block">
            <h4>Number Modifiers</h4>
            <div class="reference-row has-recall">
              <span class="ref-label">Addition</span>
              <span class="ref-example">9</span>
              <span class="ref-recall">+ 2</span>
              <span class="ref-answer">Ans: 11</span>
            </div>
            <div class="reference-row has-recall">
              <span class="ref-label">Subtraction</span>
              <span class="ref-example">6</span>
              <span class="ref-recall">- 1</span>
              <span class="ref-answer">Ans: 5</span>
            </div>
            <div class="reference-row has-recall">
              <span class="ref-label">Multiplication</span>
              <span class="ref-example">4</span>
              <span class="ref-recall">* 2</span>
              <span class="ref-answer">Ans: 8</span>
            </div>
          </div>
          <div class="reference-block">
            <h4>Other Modifiers</h4>
            <div class="reference-row has-recall">
              <span class="ref-label">Pop-up</span>
              <span class="ref-example ref-card ref-popup">
                <span class="ref-popup-box">AD</span>
                <span class="ref-popup-x">X</span>
              </span>
              <span class="ref-effect">Interferes visibility until closed.</span>
            </div>
            <div class="reference-row has-recall">
              <span class="ref-label">Fog</span>
              <span class="ref-example ref-card ref-fog">7</span>
              <span class="ref-effect">Move cursor around to clear fog.</span>
            </div>
            <div class="reference-row has-recall">
              <span class="ref-label">Glitch</span>
              <span class="ref-example ref-card glitch glitch-animate">7</span>
              <span class="ref-effect">Cards flicker to black.</span>
            </div>
            <div class="reference-row has-recall">
              <span class="ref-label">Platformer</span>
              <span class="ref-example ref-card ref-platformer">
                <span class="ref-platformer-ground"></span>
                <span class="ref-platformer-player"></span>
                <span class="ref-platformer-goal"></span>
              </span>
              <span class="ref-effect">Reach the goal before reveal ends.</span>
            </div>
            <div class="reference-row has-recall">
              <span class="ref-label">Card Swap</span>
              <span class="ref-example ref-card ref-swap ref-swap-animate">
                <span class="ref-swap-card ref-swap-card--1">1</span>
                <span class="ref-swap-card ref-swap-card--2">2</span>
                <span class="ref-swap-card ref-swap-card--3">3</span>
                <span class="ref-swap-card ref-swap-card--4">4</span>
              </span>
              <span class="ref-effect">Two cards swap positions.</span>
            </div>
          </div>
        </div>
        <div class="modal-actions">
          <button id="referenceClose" type="button">Close</button>
        </div>
      </div>
    </div>
    <div class="interrupt-modal" id="interruptModal" aria-hidden="true">
      <div class="interrupt-card">
        <div class="interrupt-header">
          <button class="interrupt-close" id="interruptClose" type="button">X</button>
        </div>
        <div class="interrupt-body">Pop-up block</div>
      </div>
    </div>
    <div class="pill hud-streak" id="streakPill">STREAK 0</div>
    <canvas class="fog-overlay" id="fogCanvas"></canvas>
    <div class="config-hidden">
      <select id="modeSelect">
        <option value="practice" selected>Practice</option>
        <option value="adventure">Adventure</option>
      </select>
    </div>
    <script src="data.js" defer></script>
    <script src="app.js" defer></script>
  </body>
</html>
